@model DevNewsBot.App.ViewModel.ArticlesViewModel
@{
    ArgumentNullException.ThrowIfNull(Model);
    var end = Model.Cursor + Model.PageSize;
    var index = 0;
 }
 @if (Model.Articles is {Count: 0})
 {
    return;     
 }

 @for (var i = Model.Cursor; i <= end; i++)
 {
     <div
         class="card mb-4 ms-1" aria-hidden="true"
         @if (i == end)
         {
             // conditional attributes
             <text>
                 hx-get="@Url.Page("Index", new { cursor = end + 1 })"
                 hx-trigger="revealed"
                 hx-swap="afterend"
             </text>
         }>
         @if (i < end)
         {
             var article = Model.Articles[index];
            <img alt="random image"
                 width="125"
                 height="125"
                 src="https://picsum.photos/125/125?cache=@DateTime.Now.Ticks" class="card-img-top"/>
            <div class="card-body bg-dark text-white">
                <div class="h6 card-title text-center ">
                    Card #@index and Content @Model.Articles[index].Content
                </div>
            </div>
         }

     </div>
     
     index = index + 1;
 }

